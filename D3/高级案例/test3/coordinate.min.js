var coordinate=new Function;coordinate.findAngle=function(r,n,t,i){var e=(n-i)/(r-t);return Math.atan(e)*180/Math.PI};coordinate.findArrowPoint=function(r,n,t,i,e,a){var o=e/2;var f=a/2;var u;var c;if(r===t&&n===i){return{qp:[r+o/2,n-f*4],point:[r,n-f]}}var d=coordinate.findSelection(r,n,t,i);if(11===d){u=t-o;c=i;return[u,c]}if(22===d){u=t;c=i-f;return[u,c]}if(33===d){c=i;u=t+o;return[u,c]}if(44===d){u=t;c=i+f;return[u,c]}var v=Math.abs(coordinate.findAngle(r,n,t,i));var l=Math.abs(coordinate.findAngle(0,0,e,a));var h=0;var M=0;if(1===d){if(v===l){u=t-o;c=i-f;return[u,c]}if(v<l){M=o*coordinate.tan(v);c=i-M;u=t-o;return[u,c]}h=f/coordinate.tan(v);c=i-f;u=t-h;return[u,c]}if(2===d){if(v===l){u=t+o;c=i-f;return[u,c]}if(v<l){M=o*coordinate.tan(v);c=i-M;u=t+o;return[u,c]}h=f/coordinate.tan(v);c=i-f;u=t+h;return[u,c]}if(3===d){if(v===l){u=t+o;c=i+f;return[u,c]}if(v<l){M=o*coordinate.tan(v);c=i+M;u=t+o;return[u,c]}h=f/coordinate.tan(v);c=i+f;u=t+h;return[u,c]}if(4===d){if(v===l){u=t-o;c=i+f;return[u,c]}if(v<l){M=o*coordinate.tan(v);c=i+M;u=t-o;return[u,c]}h=f/coordinate.tan(v);c=i+f;u=t-h;return[u,c]}};coordinate.tan=function(r){return Math.tan(r*Math.PI/180)};coordinate.findSelection=function(r,n,t,i){var e=0;if(n-i<0){e=1}else if(n-i>0){e=-1}var a=0;if(r-t<0){a=1}else if(r-t>0){a=-1}if(e>0&&a>0){return 1}if(e>0&&a<0){return 2}if(e<0&&a<0){return 3}if(e<0&&a>0){return 4}if(e===0&&a>0){return 11}if(a===0&&e>0){return 22}if(e===0&&a<0){return 33}if(a===0&&e<0){return 44}};